<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://farmos.org/hosting/docker/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Docker - farmOS.org</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/color-brewer.min.css">
        <link href="../../extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-56974603-1', 'farmos.org');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">farmOS.org</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../guide/">Introduction</a>
</li>
                                    
<li >
    <a href="../../guide/app/">Field Kit</a>
</li>
                                    
<li >
    <a href="../../guide/areas/">Mapping your farm</a>
</li>
                                    
<li >
    <a href="../../guide/logs/">Logging events</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Managing assets</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../guide/assets/">Introduction</a>
</li>
            
<li >
    <a href="../../guide/assets/plantings/">Plantings</a>
</li>
            
<li >
    <a href="../../guide/assets/animals/">Animals</a>
</li>
            
<li >
    <a href="../../guide/assets/equipment/">Equipment</a>
</li>
            
<li >
    <a href="../../guide/assets/compost/">Compost</a>
</li>
            
<li >
    <a href="../../guide/assets/sensors/">Sensors</a>
</li>
            
<li >
    <a href="../../guide/assets/groups/">Groups</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../guide/location/">Movements and location</a>
</li>
                                    
<li >
    <a href="../../guide/quantity/">Quantity measurements</a>
</li>
                                    
<li >
    <a href="../../guide/inventory/">Inventory tracking</a>
</li>
                                    
<li >
    <a href="../../guide/people/">People</a>
</li>
                                    
<li >
    <a href="../../guide/import/">Import</a>
</li>
                                    
<li >
    <a href="../../guide/export/">Export</a>
</li>
                                    
<li >
    <a href="../../guide/quick/">Quick forms</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Community modules</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../guide/contrib/">Introduction</a>
</li>
            
<li >
    <a href="../../guide/contrib/eggs/">Eggs</a>
</li>
            
<li >
    <a href="../../guide/contrib/forest/">Forest</a>
</li>
            
<li >
    <a href="../../guide/contrib/grazing/">Grazing</a>
</li>
            
<li >
    <a href="../../guide/contrib/nutrient/">Nutrient</a>
</li>
            
<li >
    <a href="../../guide/contrib/organic/">Organic</a>
</li>
            
<li >
    <a href="../../guide/contrib/produce-safety/">Produce Safety</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Hosting <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../">Getting started</a>
</li>
                                    
<li >
    <a href="../installing/">Installing</a>
</li>
                                    
<li >
    <a href="../updating/">Updating</a>
</li>
                                    
<li >
    <a href="../googlemaps/">Google Maps</a>
</li>
                                    
<li class="active">
    <a href="./">Docker</a>
</li>
                                    
<li >
    <a href="../localization/">Localization</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../development/drupal/">Drupal</a>
</li>
                                    
<li >
    <a href="../../development/projects/">Projects</a>
</li>
                                    
<li >
    <a href="../../development/issue-queues/">Issue Queues</a>
</li>
                                    
<li >
    <a href="../../development/architecture/">Architecture</a>
</li>
                                    
<li >
    <a href="../../development/update-safety/">Update Safety</a>
</li>
                                    
<li >
    <a href="../../development/docker/">Docker</a>
</li>
                                    
<li >
    <a href="../../development/api/">API</a>
</li>
                                    
<li >
    <a href="../../development/client/">Client</a>
</li>
                                    
<li >
    <a href="../../development/release/">Release procedure</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../community/contribute/">Contribute</a>
</li>
                                    
<li >
    <a href="../../community/monthly-call/">Monthly Call</a>
</li>
                                    
<li >
    <a href="../../community/farms/">Farms</a>
</li>
                                    
<li >
    <a href="../../community/maintainers/">Maintainers</a>
</li>
                                    
<li >
    <a href="../../community/supporters/">Supporters</a>
</li>
                                    
<li >
    <a href="../../community/press/">Press</a>
</li>
                                    
<li >
    <a href="../../community/trademark/">Trademark</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../faq/">FAQ</a>
                            </li>
                            <li >
                                <a href="../../donate/">Donate</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../googlemaps/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../localization/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/farmOS/farmOS.org/edit/7.x-1.x/docs/hosting/docker.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#hosting-farmos-with-docker">Hosting farmOS with Docker</a></li>
            <li><a href="#development-environment">Development environment</a></li>
            <li><a href="#production-environment">Production environment</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="hosting-farmos-with-docker">Hosting farmOS with Docker<a class="headerlink" href="#hosting-farmos-with-docker" title="Permanent link">&para;</a></h1>
<blockquote>
<p><a href="https://www.docker.com">Docker</a> is an open-source project that automates the deployment of
applications inside software containers. - <a href="https://en.wikipedia.org/wiki/Docker_(software)">Wikipedia</a></p>
</blockquote>
<p>A farmOS Docker image is available on <a href="https://hub.docker.com">Docker Hub</a> at
<a href="https://hub.docker.com/r/farmos/farmos">https://hub.docker.com/r/farmos/farmos</a>.
This image contains the farmOS codebase with all dependencies.</p>
<p>It does not include the database server, but that can be set up separately as a
standalone service, or in another Docker container.</p>
<h2 id="development-environment">Development environment<a class="headerlink" href="#development-environment" title="Permanent link">&para;</a></h2>
<p>The farmOS Docker image can be used in both development and production
environments. However, a separate <code>dev</code> Docker image is available for
development purposes. See <a href="/development/docker">Developing farmOS with Docker</a> for instructions on
setting up a development environment.</p>
<h2 id="production-environment">Production environment<a class="headerlink" href="#production-environment" title="Permanent link">&para;</a></h2>
<p>If you plan to host farmOS in a production environment with Docker, it is
assumed that you have experience with Docker in production already and will make
decisions about how to fit it into your specific server environment. An example
<code>docker-compose.production.yml</code> file is provided in the farmOS repository's
<code>docker</code> directory which demonstrates the basics. You can copy and rename this
to <code>docker-compose.yml</code> as a starting point.</p>
<p>When new versions of farmOS are released, they are tagged on Docker hub. The
<code>latest</code> tag is also used to point to the most recent stable release tag,
although using this to automatically update is not recommended unless you also
have a plan for running <code>update.php</code> with each update.</p>
<h3 id="updating-farmos">Updating farmOS<a class="headerlink" href="#updating-farmos" title="Permanent link">&para;</a></h3>
<p>General instructions for updating to a new version of farmOS are described in
the <a href="/hosting/updating">Updating farmOS</a> docs. It is important to familiarize yourself with that
process before considerring how to do it with Docker.</p>
<p>Updating farmOS hosted with Docker (assuming that you are using the example
<code>docker-compose.production.yml</code> configuration as an example) is roughly the
same process, with a few exceptions:</p>
<ul>
<li>Steps 2 and 3 (downloading and unpacking the new version) are performed
  automatically during the Docker image build process.</li>
<li>The farmOS codebase is built into the Docker image in <code>/var/www/html</code>, and
  the site-specific settings and files are mounted in as a volume in
  <code>/var/www/html/sites</code>, so they persist outside of the container.</li>
<li>Drush is not installed in the farmOS Docker image. You can create a derivative
  image that includes Drush, if necessary. The farmOS development image does
  this, so you can look at <code>docker/dev/Dockerfile</code> in the farmOS repository as
  an example.</li>
</ul>
<p>With <code>/var/www/html/sites</code> mounted as a volume, you can simply update to a new
version of the farmOS Docker image itself and then run <code>update.php</code> to update
farmOS.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p><p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">farmOS.org</span> content is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.<br />farmOS is a <a href="/community/trademark">registered trademark</a> of <a href="http://mstenta.net">Michael Stenta</a></p><p><a href="/donate">Donate</a> to help support the farmOS project.</p>.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"next": 78, "search": 83, "help": 191, "previous": 80};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
